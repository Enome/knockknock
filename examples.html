<!DOCTYPE html>
<html>
  <head>
    <script src="lib/knockout-1.3.0beta.debug.js" type="text/javascript">
    </script>
    <script src="build/validators.js" type="text/javascript"></script>
    <script src="build/validation.js" type="text/javascript"></script>

    <script type="text/javascript">
      var Required = window.validators.Required;
      var Max = window.validators.Max

      var ViewModel = function(){
        // Observables
        this.firstName = ko.observable();
        this.lastName  = ko.observable();
        this.phone     = ko.observable();

        // Validation
        this.validation = new Validation();

        this.validation.addRules( this.firstName, new Required() );
        this.validation.addRules( this.lastName, new Max(5) );
        this.validation.addRules( this.phone, new Required(), new Max(6) );
      }; 

      ViewModel.prototype.validate = function(){
        this.validation.validate(); 
      };

      window.onload = function(){
        ko.applyBindings( new ViewModel() );
      };
    </script>

    <style type="text/css">
      label {
        display : block;
      }

      input {
        border: 1px solid silver;
        padding: 3px 5px;
        width: 250px;
      }
    </style>

  </head>
  <body>

    <p>
      <label>First name</label>
      <input type="text" data-bind='value: firstName' />
      <ul data-bind='foreach: firstName.errors'>
        <li data-bind='text: $data'></li>
      </ul>
    </p>

    <p>
      <label>Last name</label>
      <input type="text" data-bind='value: lastName' />
      <ul data-bind='foreach: lastName.errors'>
        <li data-bind='text: $data'></li>
      </ul>
    </p>

    <p>
      <label>Phone</label>
      <input type="text" data-bind='value: phone' />
      <ul data-bind='foreach: phone.errors'>
        <li data-bind='text: $data'></li>
      </ul>
    </p>

    <p>
      <button data-bind='click: validate'>Validate</button>
    </p>

  </body>
</html>
